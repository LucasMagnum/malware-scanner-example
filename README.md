# Malware Scanner

![ClamAV Logo](http://www.clamav.net/assets/clamav-trademark.png)
![ClamAV latest.stable](https://img.shields.io/badge/ClamAV-latest.stable-brightgreen.svg?style=flat-square)

This repo contains the dockerized version of ClamAV. 

ClamAv is an open source antivirus engine for detecting trojans, viruses, malware & other malicious threats.

# Quick start

Start the service with the following command:

    $ docker build -t malware-scanner .
    $ docker run -p 3310:3310 malware-scanner


One can send a PING command to validate if the service is responding correctly:

    $ nc localhost 3310
    >> PING
    PONG


# NodeJS Integration

To use this service with NodeJs, install the `clamdjs` package:

    $ npm install clamdjs

Then create a `test.js` file:

    # test.js

    const clamd = require("clamdjs");
    const scanner = clamd.createScanner("127.0.0.1", 3310);

    async function run() {
        console.log("Scanning faulty file ->")
        const result = await scanner.scanFile("./testfiles/invalidfile.txt");
        console.log(result);
    }

    run();


Run it:

    $ node test.js
    stream: Eicar-Signature FOUND

